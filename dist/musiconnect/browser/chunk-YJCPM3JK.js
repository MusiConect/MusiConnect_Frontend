import{a as h}from"./chunk-7OC2QND7.js";import{a as G}from"./chunk-FQDNF3NE.js";import{a as U}from"./chunk-Q4PFRBFB.js";import{Aa as R,Ba as b,D as I,F as r,Fa as L,I as a,K as v,O as S,Oa as w,Q as O,R as d,Sa as y,U as s,V as l,W as C,X as T,Y as x,Z as N,aa as _,da as P,ea as g,fa as M,ga as m,ia as f,sa as A,u as p,v as E}from"./chunk-H2FOQYQS.js";function F(o,i){if(o&1){let e=N();s(0,"div",8)(1,"div",9),C(2,"img",10),s(3,"button",11),P("click",function(){let t=p(e).$implicit,c=g(2);return E(c.verPerfil(t))}),m(4),l()(),s(5,"div",12)(6,"h2",13),_(7,2),l(),s(8,"p",14),m(9),l()()()}if(o&2){let e=i.$implicit;r(2),d("src",e.imagen||"/FotoPerfil.png",I),r(),O("aria-label","Ver perfil de "+e.nombre),r(),f(" ",e.nombre," "),r(5),f(" ",e.bio||"\u2014"," ")}}function B(o,i){if(o&1&&(T(0),S(1,F,10,4,"div",7),x()),o&2){let e=g();r(),d("ngForOf",e.seguidos)}}function X(o,i){o&1&&(s(0,"p"),_(1,3),l())}var $=class o{constructor(i,e,n,t){this.followSvc=i;this.session=e;this.router=n;this.userSvc=t}seguidos=[];ngOnInit(){let i=this.session.getUserId();i&&this.followSvc.listarPerfilesSeguidos(i).subscribe({next:e=>{let n=e.filter(t=>t.tipo==="Usuario");this.seguidos=n,n.forEach(t=>{this.userSvc.getById(t.id).subscribe({next:c=>{let u=this.seguidos.find(D=>D.id===t.id);u&&(u.bio=c.bio||void 0)},error:()=>{}})})},error:e=>console.error(e)})}verPerfil(i){i.tipo==="Usuario"&&this.router.navigate(["/ver-perfil",i.id])}static \u0275fac=function(e){return new(e||o)(a(h),a(U),a(w),a(G))};static \u0275cmp=v({type:o,selectors:[["app-listar-seguidos"]],decls:6,vars:2,consts:()=>{let i;i=$localize`:@@titleSeguidos:Perfiles seguidos por ti:`;let e;e=$localize`:@@labelBio:Biografía:`;let n;return n=$localize`:@@msgNoSeguidos:Aún no sigues a ningún perfil.`,[["sinSeguidos",""],i,e,n,[1,"container","mx-auto","px-4","py-6","font-bree"],[1,"text-4xl","mb-6"],[4,"ngIf","ngIfElse"],["class","bg-gray-100 rounded-lg p-6 mb-8 flex flex-col sm:flex-row gap-4 shadow",4,"ngFor","ngForOf"],[1,"bg-gray-100","rounded-lg","p-6","mb-8","flex","flex-col","sm:flex-row","gap-4","shadow"],[1,"flex","flex-col","items-center","w-full","sm:w-40"],["alt","Avatar seguido",1,"w-24","h-24","object-cover","rounded",3,"src"],[1,"mt-4","text-lg","underline","hover:text-blue-700","focus:outline-none",3,"click"],[1,"flex-1"],[1,"text-xl","mb-2"],[1,"leading-relaxed","whitespace-pre-line"]]},template:function(e,n){if(e&1&&(s(0,"div",4)(1,"h1",5),_(2,1),l(),S(3,B,2,1,"ng-container",6)(4,X,2,0,"ng-template",null,0,A),l()),e&2){let t=M(5);r(3),d("ngIf",n.seguidos.length)("ngIfElse",t)}},dependencies:[L,R,b,y],styles:["@media (max-width: 640px){.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-direction:column}}"]})};export{$ as ListarSeguidosComponent};
