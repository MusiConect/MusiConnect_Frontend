import{a as r,b as n,e as o,i as l,o as d}from"./chunk-H2FOQYQS.js";var u=class s{_list$=new o([]);list$=this._list$.asObservable();nextId=1;_toast$=new o(null);toast$=this._toast$.asObservable();push(t,e="INFO",a=!1){let i={id:this.nextId++,mensaje:t,fecha:new Date,leida:!1,tipo:e};this._list$.next([i,...this._list$.value]),a&&setTimeout(()=>this.remove(i.id),3e3)}show(t){this._toast$.next(t),setTimeout(()=>this._toast$.next(null),3e3)}remove(t){let e=typeof t=="string"?+t:t,a=this._list$.value.filter(i=>i.id!==e);this._list$.next([...a])}markAsRead(t){this._list$.next(this._list$.value.map(e=>e.id===t?n(r({},e),{leida:!0}):e))}clearAll(){this._list$.next([])}getUnreadCount(){return this._list$.value.filter(t=>!t.leida).length}get mensaje$(){return this._list$.asObservable().pipe(l(t=>t[0]?.mensaje??null))}static \u0275fac=function(e){return new(e||s)};static \u0275prov=d({token:s,factory:s.\u0275fac,providedIn:"root"})};export{u as a};
