import{a as M}from"./chunk-JCNJBNNY.js";import{a as O}from"./chunk-7OC2QND7.js";import{a as j}from"./chunk-Q4PFRBFB.js";import{Aa as E,Ba as y,F as s,Fa as F,I as l,K as b,O as p,Oa as R,Q as x,R as u,Sa as L,U as r,V as a,W as S,X as _,Y as B,Z as I,da as w,ea as f,fa as C,ga as o,ia as c,sa as h,u as g,v}from"./chunk-H2FOQYQS.js";function T(n,t){if(n&1){let e=I();r(0,"div",5)(1,"div",6),S(2,"img",7),r(3,"button",8),w("click",function(){let i=g(e).$implicit,m=f(2);return v(m.verBanda(i))}),o(4),a()(),r(5,"div",9)(6,"h2",10),o(7,"Descripci\xF3n:"),a(),r(8,"p",11),o(9),a(),r(10,"p",12)(11,"span",13),o(12,"G\xE9neros:"),a(),o(13),a()()()}if(n&2){let e=t.$implicit;s(3),x("aria-label","Ver banda "+e.nombre),s(),c(" ",e.nombre," "),s(5),c(" ",e.descripcion||"\u2014"," "),s(4),c(" ",e.generosMusicales.join(", "),"")}}function D(n,t){if(n&1&&(_(0),p(1,T,14,4,"div",4),B()),n&2){let e=f();s(),u("ngForOf",e.bandasSeguidas)}}function V(n,t){n&1&&(r(0,"p"),o(1,"No sigues ninguna banda."),a())}var N=class n{constructor(t,e,d,i){this.followSvc=t;this.session=e;this.bandSvc=d;this.router=i}bandasSeguidas=[];ngOnInit(){let t=this.session.getUserId();t&&this.followSvc.listarPerfilesSeguidos(t).subscribe({next:e=>{let d=e.filter(i=>i.tipo==="Banda").map(i=>i.id);d.length!==0&&this.bandSvc.obtenerBandas().subscribe({next:i=>{this.bandasSeguidas=i.filter(m=>d.includes(m.bandId))},error:()=>{}})},error:()=>{}})}verBanda(t){this.router.navigate(["/mostrar-banda",t.bandId])}static \u0275fac=function(e){return new(e||n)(l(O),l(j),l(M),l(R))};static \u0275cmp=b({type:n,selectors:[["app-listar-bandas-seguidas"]],decls:6,vars:2,consts:[["sinBandas",""],[1,"container","mx-auto","px-4","py-6","font-bree"],[1,"text-4xl","mb-6"],[4,"ngIf","ngIfElse"],["class","bg-gray-100 rounded-lg p-6 mb-8 flex flex-col sm:flex-row gap-4 shadow",4,"ngFor","ngForOf"],[1,"bg-gray-100","rounded-lg","p-6","mb-8","flex","flex-col","sm:flex-row","gap-4","shadow"],[1,"flex","flex-col","items-center","w-full","sm:w-40"],["src","/Banda.png","alt","Avatar banda",1,"w-24","h-24","object-cover","rounded"],[1,"mt-4","text-lg","underline","hover:text-blue-700","focus:outline-none",3,"click"],[1,"flex-1"],[1,"text-xl","mb-2"],[1,"leading-relaxed","whitespace-pre-line"],[1,"mt-2"],[1,"font-bold"]],template:function(e,d){if(e&1&&(r(0,"div",1)(1,"h1",2),o(2,"Bandas seguidas por ti:"),a(),p(3,D,2,1,"ng-container",3)(4,V,2,0,"ng-template",null,0,h),a()),e&2){let i=C(5);s(3),u("ngIf",d.bandasSeguidas.length)("ngIfElse",i)}},dependencies:[F,E,y,L],encapsulation:2})};export{N as ListarBandasSeguidasComponent};
